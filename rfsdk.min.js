!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("rfsdk",[],t):"object"==typeof exports?exports.rfsdk=t():e.rfsdk=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t="undefined"!=typeof self?self:this.webpackHotUpdaterfsdk;"undefined"!=typeof self?self:this.webpackHotUpdaterfsdk=function(e,n){!function(e,t){if(!x[e]||!b[e])return;for(var n in b[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(h[n]=t[n]);0==--g&&0===v&&k()}(e,n),t&&t(e,n)};var n,o=!0,r="3b03ac8ec127d5be7d2f",i=1e4,d={},a=[],s=[];function l(e){var t=B[e];if(!t)return D;var o=function(o){return t.hot.active?(B[o]?-1===B[o].parents.indexOf(e)&&B[o].parents.push(e):(a=[e],n=o),-1===t.children.indexOf(o)&&t.children.push(o)):(console.warn("[HMR] unexpected require("+o+") from disposed module "+e),a=[]),D(o)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return D[e]},set:function(t){D[e]=t}}};for(var i in D)Object.prototype.hasOwnProperty.call(D,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(o,i,r(i));return o.e=function(e){return"ready"===f&&p("prepare"),v++,D.e(e).then(t,function(e){throw t(),e});function t(){v--,"prepare"===f&&(y[e]||E(e),0===v&&0===g&&k())}},o.t=function(e,t){return 1&t&&(e=o(e)),D.t(e,-2&t)},o}var c=[],f="idle";function p(e){f=e;for(var t=0;t<c.length;t++)c[t].call(null,e)}var u,h,m,g=0,v=0,y={},b={},x={};function w(e){return+e+""===e?+e:e}function _(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return o=e,p("check"),(t=i,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var o=new XMLHttpRequest,i=D.p+""+r+".hot-update.json";o.open("GET",i,!0),o.timeout=t,o.send(null)}catch(e){return n(e)}o.onreadystatechange=function(){if(4===o.readyState)if(0===o.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===o.status)e();else if(200!==o.status&&304!==o.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(o.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return p("idle"),null;b={},y={},x=e.c,m=e.h,p("prepare");var t=new Promise(function(e,t){u={resolve:e,reject:t}});h={};return E(0),"prepare"===f&&0===v&&0===g&&k(),t});var t}function E(e){x[e]?(b[e]=!0,g++,function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.charset="utf-8",n.src=D.p+""+e+"."+r+".hot-update.js",t.appendChild(n)}(e)):y[e]=!0}function k(){p("ready");var e=u;if(u=null,e)if(o)Promise.resolve().then(function(){return L(o)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&t.push(w(n));e.resolve(t)}}function L(t){if("ready"!==f)throw new Error("apply() is only allowed in ready status");var n,o,i,s,l;function c(e){for(var t=[e],n={},o=t.slice().map(function(e){return{chain:[e],id:e}});o.length>0;){var r=o.pop(),i=r.id,d=r.chain;if((s=B[i])&&!s.hot._selfAccepted){if(s.hot._selfDeclined)return{type:"self-declined",chain:d,moduleId:i};if(s.hot._main)return{type:"unaccepted",chain:d,moduleId:i};for(var a=0;a<s.parents.length;a++){var l=s.parents[a],c=B[l];if(c){if(c.hot._declinedDependencies[i])return{type:"declined",chain:d.concat([l]),moduleId:i,parentId:l};-1===t.indexOf(l)&&(c.hot._acceptedDependencies[i]?(n[l]||(n[l]=[]),u(n[l],[i])):(delete n[l],t.push(l),o.push({chain:d.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];-1===e.indexOf(o)&&e.push(o)}}t=t||{};var g={},v=[],y={},b=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var _ in h)if(Object.prototype.hasOwnProperty.call(h,_)){var E;l=w(_);var k=!1,L=!1,O=!1,j="";switch((E=h[_]?c(l):{type:"disposed",moduleId:_}).chain&&(j="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(k=new Error("Aborted because of self decline: "+E.moduleId+j));break;case"declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(k=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+j));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(E),t.ignoreUnaccepted||(k=new Error("Aborted because "+l+" is not accepted"+j));break;case"accepted":t.onAccepted&&t.onAccepted(E),L=!0;break;case"disposed":t.onDisposed&&t.onDisposed(E),O=!0;break;default:throw new Error("Unexception type "+E.type)}if(k)return p("abort"),Promise.reject(k);if(L)for(l in y[l]=h[l],u(v,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,l)&&(g[l]||(g[l]=[]),u(g[l],E.outdatedDependencies[l]));O&&(u(v,[E.moduleId]),y[l]=b)}var I,P=[];for(o=0;o<v.length;o++)l=v[o],B[l]&&B[l].hot._selfAccepted&&P.push({module:l,errorHandler:B[l].hot._selfAccepted});p("dispose"),Object.keys(x).forEach(function(e){!1===x[e]&&function(e){delete installedChunks[e]}(e)});for(var A,H,C=v.slice();C.length>0;)if(l=C.pop(),s=B[l]){var M={},S=s.hot._disposeHandlers;for(i=0;i<S.length;i++)(n=S[i])(M);for(d[l]=M,s.hot.active=!1,delete B[l],delete g[l],i=0;i<s.children.length;i++){var T=B[s.children[i]];T&&((I=T.parents.indexOf(l))>=0&&T.parents.splice(I,1))}}for(l in g)if(Object.prototype.hasOwnProperty.call(g,l)&&(s=B[l]))for(H=g[l],i=0;i<H.length;i++)A=H[i],(I=s.children.indexOf(A))>=0&&s.children.splice(I,1);for(l in p("apply"),r=m,y)Object.prototype.hasOwnProperty.call(y,l)&&(e[l]=y[l]);var q=null;for(l in g)if(Object.prototype.hasOwnProperty.call(g,l)&&(s=B[l])){H=g[l];var N=[];for(o=0;o<H.length;o++)if(A=H[o],n=s.hot._acceptedDependencies[A]){if(-1!==N.indexOf(n))continue;N.push(n)}for(o=0;o<N.length;o++){n=N[o];try{n(H)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:l,dependencyId:H[o],error:e}),t.ignoreErrored||q||(q=e)}}}for(o=0;o<P.length;o++){var U=P[o];l=U.module,a=[l];try{D(l)}catch(e){if("function"==typeof U.errorHandler)try{U.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:l,error:n,originalError:e}),t.ignoreErrored||q||(q=n),q||(q=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:l,error:e}),t.ignoreErrored||q||(q=e)}}return q?(p("fail"),Promise.reject(q)):(p("idle"),new Promise(function(e){e(v)}))}var B={};function D(t){if(B[t])return B[t].exports;var o=B[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var o=0;o<e.length;o++)t._acceptedDependencies[e[o]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:_,apply:L,status:function(e){if(!e)return f;c.push(e)},addStatusHandler:function(e){c.push(e)},removeStatusHandler:function(e){var t=c.indexOf(e);t>=0&&c.splice(t,1)},data:d[e]};return n=void 0,t}(t),parents:(s=a,a=[],s),children:[]};return e[t].call(o.exports,o,o.exports,l(t)),o.l=!0,o.exports}return D.m=e,D.c=B,D.d=function(e,t,n){D.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},D.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},D.t=function(e,t){if(1&t&&(e=D(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(D.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)D.d(n,o,function(t){return e[t]}.bind(null,o));return n},D.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return D.d(t,"a",t),t},D.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},D.p="",D.h=function(){return r},l(0)(D.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,console.log("Args to process",window.rfsdk.q);var r="https://dev.rocketium.com",i=new EventTarget;i.config={"form-enable":!0,templateId:"5c6d28e90783db785ca7532b",origin:window.location.origin,"editor-type":"lightbox"},i.elements={},i.listeners=[];var d="\n\n\n\t.rfsdk-create-video-button {\n\t\tfont-size: 20px;\n\t\tborder-radius: 5px;\n\t\tbackground: #007eff;\n\t\tpadding: 14px 14px;\n\t\tborder: none;\n\t\tcolor: #fff;\n\t\tfont-weight: 500;\n\t\tbox-shadow: none;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcursor: pointer;\n\t\tbox-shadow: 3px 3px 7px 0px #00000042;\n\t\ttransition: box-shadow 0.3s;\n\t}\n\t\n\t.rfsdk-create-video-button__logo {\n\t\twidth: 35px;\n\t\tbackground: #fff;\n\t\tborder-radius: 41px;\n\t\tpadding: 4px;\n\t\tmargin-right: 10px;\n\t}\n\t\n\t.rfsdk-create-video-button__span {\n\t}\n\t\n.rfsdk-create-video-button:active,.rfsdk-create-video-button:focus, .rfsdk-create-video-button:hover {\n\t\toutline: 0;\n\t\tbox-shadow: 3px 3px 10px 0px #00000080;\n\t}\n\t\n\t.rfsdk-lightbox-background {\n\t\tposition : absolute;\n\t\ttop : 0;\n\t\tleft : 0;\n\t\twidth : 100%;\n\t\theight : 100%;\n\t\tbackground : rgba(0, 0, 0, 0.52);\n\t\tz-index: 1;\n\t}\n\t\n\t.rfsdk-lightbox {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground: rgba(19, 24, 41, 0.72);\n\t\tz-index]: 111;\n\t\tdisplay: flex;\n\t\tjustify-content]: center;\n\t\talign-items]: center;\n\t\topacity: 0;\n\t\tvisibility: hidden;\n\t\ttransition: opacity .3s ease, visibility .3s ease;\n\t}\n\t.rfsdk-lightbox-inner {\n\t\twidth: 90%;\n\t\theight: 90%;\n\t\tbackground: #fff;\n\t\tz-index: 11;\n\t\tposition: relative;\n    margin: auto;\n\t}\n\t\t\n\t.rfsdk-lightbox-video-loader {\n\t\twidth: 150px;\n\t\tmargin: auto;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\ttop: 0;\n\t}\n\t\n\t.rfsdk-lightbox__body {\n\t\theight: calc( 100% - 84px );\n\t}\n\t\n",a=document.createElement("style");a.styleSheet?a.styleSheet.cssText=d:a.appendChild(document.createTextNode(d)),document.getElementsByTagName("head")[0].appendChild(a),i.init=function(e){i.destroy(),i.config=Object.assign({},i.config,e);var t=window.addEventListener?"addEventListener":"attachEvent",n=window[t],o="attachEvent"===t?"onmessage":"message";i._internalEventListener=function(e){console.log("parent recieved",e.data),"rfsdk"===e.data.source&&i._eventHandler(e.data)},n(o,i._internalEventListener,!1),i._appendButton()},i._createLightBox=function(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),o=document.createElement("img"),r=document.createElement("div");return e.classList.add("rfsdk-lightbox"),e.setAttribute("id","rfsdk-lightbox"),t.classList.add("rfsdk-lightbox-inner"),o.classList.add("rfsdk-lightbox-video-loader"),n.classList.add("rfsdk-lightbox__body"),r.classList.add("rfsdk-lightbox-background"),r.classList.add("rfsdk-lightbox-close"),o.src="https://rocketium.com/img/pando-newpopupicon/loader.gif",n.appendChild(o),t.appendChild(n),e.appendChild(t),e.appendChild(r),r.addEventListener("click",function(e){i.destroy(),i.init(i.config)}),n.appendChild(i.elements.iframe),i.elements.iframe.style.width="100%",i.elements.iframe.style.height="100%",i.elements.lightBox={},i.elements.lightBox.lightBoxDiv=e,i.elements.lightBox.lightBoxInnerDiv=t,i.elements.lightBox.lightBoxBodyDiv=n,i.elements.lightBox.lightBoxImageLoader=o,i.elements.lightBox.lightBoxBackgroundDiv=r,e},i._showLightBox=function(){i.elements.lightBox.lightBoxDiv.classList.add("active"),i.elements.lightBox.lightBoxInnerDiv.classList.add("animate"),i.elements.lightBox.lightBoxDiv.style.opacity=1,i.elements.lightBox.lightBoxDiv.style.visibility="visible",document.body.style["overflow-y"]="hidden"},i._hideLightBox=function(){void 0!==i.elements&&void 0!==i.elements.lightBox&&(i.elements.lightBox.lightBoxDiv.classList.remove("active"),i.elements.lightBox.lightBoxInnerDiv.classList.remove("animate"),i.elements.lightBox.lightBoxDiv.style.opacity=0,i.elements.lightBox.lightBoxDiv.style.visibility="hidden"),document.body.style["overflow-y"]="initial"},i._destroyLightBox=function(){i._hideLightBox(),void 0!==i.elements&&void 0!==i.elements.lightBox&&(i.elements.lightBox.lightBoxBodyDiv.html="",i.elements.iframe.style.width="1200px",i.elements.iframe.style.height="700px")},i.destroy=function(){var e=window.removeEventListener?"removeEventListener":"detachEvent",t="detachEvent"===e?"onmessage":"message";window[e](t,i._internalEventListener,!1),i.listeners.forEach(function(e){i.removeEventListener(e.eventName,e.eventListener)}),i.listeners=[],"lightbox"===i.config["editor-type"]&&i._destroyLightBox(),void 0!==i.elements.baseParentElement&&(i.elements.baseParentElement.innerHTML=""),i.elements={}},i._appendButton=function(){var e=document.getElementById(i.config.appendTo),t=document.createElement("div"),n=document.createElement("button"),o=document.createElement("img");i.elements.buttonElement=n,i.elements.buttonWrapperElement=t,i.elements.loaderGif=o,i.elements.baseParentElement=e,o.src="https://rocketium.com/img/pando-newpopupicon/loader.gif",t.appendChild(n),t.classList.add("rfsdk"),t.classList.add("rfsdk-button-wrapper"),n.classList.add("rfsdk"),n.classList.add("rfsdk-create-video-button"),n.style.background=i.config["button-color"]||"#007eff";var r=document.createElement("img");r.classList.add("rfsdk-create-video-button__logo"),r.src=i.config["button-image"]||"https://rocketium.com/img/logo400x400.png";var d=document.createElement("span");d.classList.add("rfsdk-create-video-button__span"),d.innerHTML=i.config["button-text"]||"Make video with Rocketium",n.appendChild(r),n.appendChild(d),n.addEventListener("click",function(){void 0!==i.elements.buttonElement&&(i.elements.buttonElement.style.display="none"),i._prepareAndAppendForm(),i._hideIframe()}),null===e?document.body.appendChild(t):e.appendChild(t)},i.show=function(){"lightbox"===i.config["editor-type"]&&i._showLightBox(),i._showIframe()},i.hide=function(){"lightbox"===i.config["editor-type"]&&i._hideLightBox(),i._hideIframe()},i._showIframe=function(){void 0!==i.elements.iframe&&(i.elements.iframe.style.display="")},i._hideIframe=function(){void 0!==i.elements.iframe&&(i.elements.iframe.style.display="none")},i.on=function(e,t,n){var o={eventName:e,eventListener:function(n){var o=Object.assign({},n.detail,{type:e});switch(e){case"rfsdk-video-generated":delete o.capsulePageUrl,delete o.url,delete o.generatedCount,i.elements.buttonWrapperElement.removeChild(i.elements.iframe),i.elements.buttonElement.style.display=""}console.log("eventCB",o),t(o)}};i.listeners.push(o),i.addEventListener(e,o.eventListener,n)},i._showLoader=function(){void 0!==i.elements.loaderGif&&(i.elements.loaderGif.style.display="")},i._hideLoader=function(){void 0!==i.elements.loaderGif&&(i.elements.loaderGif.style.display="none")},i._eventHandler=function(e){switch(e.eventName){case"do-send-init":i._sendMessageToEditor("init",i.config),i._showLoader(),i._emitSDKEvent("editor-loading");break;case"video-editor-ready":i._emitSDKEvent("editor-ready"),i._hideLoader(),i.show();break;case"video-generating":i._emitSDKEvent("video-generating");break;case"video-generated":i._emitSDKEvent("video-generated",e.eventData)}},i._emitSDKEvent=function(e,t){i.dispatchEvent(new CustomEvent("rfsdk-".concat(e),{detail:t}))},i._sendMessageToEditor=function(e,t){void 0!==i.elements&&void 0!==i.elements.iframe&&i.elements.iframe.contentWindow.postMessage({source:"rfsdk",eventName:e,eventData:t},r)},i._prepareAndAppendForm=function(e){var t=Object.assign({},e),n=document.createElement("iframe");n.classList.add("rfsdk"),n.classList.add("rfsdk-iframe"),n.setAttribute("src","".concat(r,"/v/form?workspaceId=").concat(i.config.workspaceId,"&templateId=").concat(i.config.templateId,"&origin=").concat(window.location.origin)),n.style.width=t.width||"1200px",n.style.height=t.height||"700px",n.style.top=t.top||0,n.style.left=t.left||0,n.style.right=t.right||"auto",n.style.bottom=t.bottom||"auto",n.style.position="absolute",n.style.zIndex="111",n.style.boxShadow="1px 1px 6px 0 rgba(0,0,0,.1)",n.style.border="none",i.elements.iframe=n,"lightbox"===i.config["editor-type"]?(document.body.appendChild(i._createLightBox()),i._showLightBox()):(i.elements.buttonWrapperElement.appendChild(n),i.elements.baseParentElement.appendChild(i.elements.loaderGif))},window.rfsdk.q.length>0&&window.rfsdk.q.forEach(function(e){if(void 0!==i[e[0]]){var t=[].concat(o(e));i[e[0]].apply(null,t.slice(1))}});var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];void 0!==i[t[0]]&&i[t[0]].apply(null,t.slice(1))};t.default=s,e.exports=t.default}])});