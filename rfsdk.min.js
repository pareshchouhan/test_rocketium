!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("rfsdk",[],t):"object"==typeof exports?exports.rfsdk=t():e.rfsdk=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t="undefined"!=typeof self?self:this.webpackHotUpdaterfsdk;"undefined"!=typeof self?self:this.webpackHotUpdaterfsdk=function(e,n){!function(e,t){if(!x[e]||!b[e])return;for(var n in b[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(h[n]=t[n]);0==--y&&0===v&&k()}(e,n),t&&t(e,n)};var n,o=!0,i="10f6670069cdc83d348e",r=1e4,d={},s=[],l=[];function a(e){var t=L[e];if(!t)return D;var o=function(o){return t.hot.active?(L[o]?-1===L[o].parents.indexOf(e)&&L[o].parents.push(e):(s=[e],n=o),-1===t.children.indexOf(o)&&t.children.push(o)):(console.warn("[HMR] unexpected require("+o+") from disposed module "+e),s=[]),D(o)},i=function(e){return{configurable:!0,enumerable:!0,get:function(){return D[e]},set:function(t){D[e]=t}}};for(var r in D)Object.prototype.hasOwnProperty.call(D,r)&&"e"!==r&&"t"!==r&&Object.defineProperty(o,r,i(r));return o.e=function(e){return"ready"===f&&p("prepare"),v++,D.e(e).then(t,function(e){throw t(),e});function t(){v--,"prepare"===f&&(g[e]||_(e),0===v&&0===y&&k())}},o.t=function(e,t){return 1&t&&(e=o(e)),D.t(e,-2&t)},o}var c=[],f="idle";function p(e){f=e;for(var t=0;t<c.length;t++)c[t].call(null,e)}var u,h,m,y=0,v=0,g={},b={},x={};function w(e){return+e+""===e?+e:e}function E(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return o=e,p("check"),(t=r,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var o=new XMLHttpRequest,r=D.p+""+i+".hot-update.json";o.open("GET",r,!0),o.timeout=t,o.send(null)}catch(e){return n(e)}o.onreadystatechange=function(){if(4===o.readyState)if(0===o.status)n(new Error("Manifest request to "+r+" timed out."));else if(404===o.status)e();else if(200!==o.status&&304!==o.status)n(new Error("Manifest request to "+r+" failed."));else{try{var t=JSON.parse(o.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return p("idle"),null;b={},g={},x=e.c,m=e.h,p("prepare");var t=new Promise(function(e,t){u={resolve:e,reject:t}});h={};return _(0),"prepare"===f&&0===v&&0===y&&k(),t});var t}function _(e){x[e]?(b[e]=!0,y++,function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.charset="utf-8",n.src=D.p+""+e+"."+i+".hot-update.js",t.appendChild(n)}(e)):g[e]=!0}function k(){p("ready");var e=u;if(u=null,e)if(o)Promise.resolve().then(function(){return B(o)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&t.push(w(n));e.resolve(t)}}function B(t){if("ready"!==f)throw new Error("apply() is only allowed in ready status");var n,o,r,l,a;function c(e){for(var t=[e],n={},o=t.slice().map(function(e){return{chain:[e],id:e}});o.length>0;){var i=o.pop(),r=i.id,d=i.chain;if((l=L[r])&&!l.hot._selfAccepted){if(l.hot._selfDeclined)return{type:"self-declined",chain:d,moduleId:r};if(l.hot._main)return{type:"unaccepted",chain:d,moduleId:r};for(var s=0;s<l.parents.length;s++){var a=l.parents[s],c=L[a];if(c){if(c.hot._declinedDependencies[r])return{type:"declined",chain:d.concat([a]),moduleId:r,parentId:a};-1===t.indexOf(a)&&(c.hot._acceptedDependencies[r]?(n[a]||(n[a]=[]),u(n[a],[r])):(delete n[a],t.push(a),o.push({chain:d.concat([a]),id:a})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];-1===e.indexOf(o)&&e.push(o)}}t=t||{};var y={},v=[],g={},b=function(){console.warn("[HMR] unexpected require("+_.moduleId+") to disposed module")};for(var E in h)if(Object.prototype.hasOwnProperty.call(h,E)){var _;a=w(E);var k=!1,B=!1,O=!1,j="";switch((_=h[E]?c(a):{type:"disposed",moduleId:E}).chain&&(j="\nUpdate propagation: "+_.chain.join(" -> ")),_.type){case"self-declined":t.onDeclined&&t.onDeclined(_),t.ignoreDeclined||(k=new Error("Aborted because of self decline: "+_.moduleId+j));break;case"declined":t.onDeclined&&t.onDeclined(_),t.ignoreDeclined||(k=new Error("Aborted because of declined dependency: "+_.moduleId+" in "+_.parentId+j));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(_),t.ignoreUnaccepted||(k=new Error("Aborted because "+a+" is not accepted"+j));break;case"accepted":t.onAccepted&&t.onAccepted(_),B=!0;break;case"disposed":t.onDisposed&&t.onDisposed(_),O=!0;break;default:throw new Error("Unexception type "+_.type)}if(k)return p("abort"),Promise.reject(k);if(B)for(a in g[a]=h[a],u(v,_.outdatedModules),_.outdatedDependencies)Object.prototype.hasOwnProperty.call(_.outdatedDependencies,a)&&(y[a]||(y[a]=[]),u(y[a],_.outdatedDependencies[a]));O&&(u(v,[_.moduleId]),g[a]=b)}var I,P=[];for(o=0;o<v.length;o++)a=v[o],L[a]&&L[a].hot._selfAccepted&&P.push({module:a,errorHandler:L[a].hot._selfAccepted});p("dispose"),Object.keys(x).forEach(function(e){!1===x[e]&&function(e){delete installedChunks[e]}(e)});for(var A,H,C=v.slice();C.length>0;)if(a=C.pop(),l=L[a]){var M={},S=l.hot._disposeHandlers;for(r=0;r<S.length;r++)(n=S[r])(M);for(d[a]=M,l.hot.active=!1,delete L[a],delete y[a],r=0;r<l.children.length;r++){var T=L[l.children[r]];T&&((I=T.parents.indexOf(a))>=0&&T.parents.splice(I,1))}}for(a in y)if(Object.prototype.hasOwnProperty.call(y,a)&&(l=L[a]))for(H=y[a],r=0;r<H.length;r++)A=H[r],(I=l.children.indexOf(A))>=0&&l.children.splice(I,1);for(a in p("apply"),i=m,g)Object.prototype.hasOwnProperty.call(g,a)&&(e[a]=g[a]);var q=null;for(a in y)if(Object.prototype.hasOwnProperty.call(y,a)&&(l=L[a])){H=y[a];var U=[];for(o=0;o<H.length;o++)if(A=H[o],n=l.hot._acceptedDependencies[A]){if(-1!==U.indexOf(n))continue;U.push(n)}for(o=0;o<U.length;o++){n=U[o];try{n(H)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:a,dependencyId:H[o],error:e}),t.ignoreErrored||q||(q=e)}}}for(o=0;o<P.length;o++){var G=P[o];a=G.module,s=[a];try{D(a)}catch(e){if("function"==typeof G.errorHandler)try{G.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:a,error:n,originalError:e}),t.ignoreErrored||q||(q=n),q||(q=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:a,error:e}),t.ignoreErrored||q||(q=e)}}return q?(p("fail"),Promise.reject(q)):(p("idle"),new Promise(function(e){e(v)}))}var L={};function D(t){if(L[t])return L[t].exports;var o=L[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var o=0;o<e.length;o++)t._acceptedDependencies[e[o]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:E,apply:B,status:function(e){if(!e)return f;c.push(e)},addStatusHandler:function(e){c.push(e)},removeStatusHandler:function(e){var t=c.indexOf(e);t>=0&&c.splice(t,1)},data:d[e]};return n=void 0,t}(t),parents:(l=s,s=[],l),children:[]};return e[t].call(o.exports,o,o.exports,a(t)),o.l=!0,o.exports}return D.m=e,D.c=L,D.d=function(e,t,n){D.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},D.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},D.t=function(e,t){if(1&t&&(e=D(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(D.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)D.d(n,o,function(t){return e[t]}.bind(null,o));return n},D.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return D.d(t,"a",t),t},D.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},D.p="",D.h=function(){return i},a(0)(D.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,console.log(window.rfsdk),console.log(window.rfsdk.q);var i="https://dev.rocketium.com",r=new EventTarget;r.config={"form-enable":!0,templateId:"5c6d28e90783db785ca7532b",origin:window.location.origin},r.elements={},r.listeners=[],r.init=function(e){r.destroy(),r.config=Object.assign({},r.config,e);var t=window.addEventListener?"addEventListener":"attachEvent",n=window[t],o="attachEvent"===t?"onmessage":"message";r._internalEventListener=function(e){console.log("parent recieved",e.data),"rfsdk"===e.data.source&&r._eventHandler(e.data)},n(o,r._internalEventListener,!1),r._appendButton()},r.destroy=function(){var e=window.removeEventListener?"removeEventListener":"detachEvent",t="detachEvent"===e?"onmessage":"message";window[e](t,r._internalEventListener,!1),r.listeners.forEach(function(e){r.removeEventListener(e.eventName,e.eventListener)}),r.listeners=[],"lightbox"===r.config["editor-type"]&&r._destroyLightBox(),void 0!==r.elements.baseParentElement&&(r.elements.baseParentElement.innerHTML=""),r.elements={}},r._appendButton=function(){var e=document.getElementById(r.config.appendTo),t=document.createElement("div"),n=document.createElement("button"),o=document.createElement("img");r.elements.buttonElement=n,r.elements.buttonWrapperElement=t,r.elements.loaderGif=o,r.elements.baseParentElement=e,o.src="https://rocketium.com/img/pando-newpopupicon/loader.gif",t.appendChild(n),t.classList.add("rfsdk"),t.classList.add("rfsdk-button-wrapper"),n.classList.add("rfsdk"),n.classList.add("rfsdk-create-video-button"),n.innerHTML=r.config.buttonText||"Create video",n.addEventListener("click",function(){void 0!==r.elements.buttonElement&&(r.elements.buttonElement.style.display="none"),r._prepareAndAppendForm(),r._hideIframe()}),null===e?document.body.appendChild(t):e.appendChild(t)},r.show=function(){"lightbox"===r.config["editor-type"]&&r._showLightBox(),r._showIframe()},r.hide=function(){"lightbox"===r.config["editor-type"]&&r._hideLightBox(),r._hideIframe()},r._showIframe=function(){void 0!==r.elements.iframe&&(r.elements.iframe.style.display="")},r._hideIframe=function(){void 0!==r.elements.iframe&&(r.elements.iframe.style.display="none")},r.on=function(e,t,n){var o={eventName:e,eventListener:function(n){var o=Object.assign({},n.detail,{type:e});switch(e){case"rfsdk-video-generated":delete o.capsulePageUrl,delete o.url,delete o.generatedCount,r.elements.buttonWrapperElement.removeChild(r.elements.iframe),r.elements.buttonElement.style.display=""}console.log("eventCB",o),t(o)}};r.listeners.push(o),r.addEventListener(e,o.eventListener,n)},r._showLoader=function(){void 0!==r.elements.loaderGif&&(r.elements.loaderGif.style.display="")},r._hideLoader=function(){void 0!==r.elements.loaderGif&&(r.elements.loaderGif.style.display="none")},r._eventHandler=function(e){switch(e.eventName){case"do-send-init":r._sendMessageToEditor("init",r.config),r._showLoader(),r._emitSDKEvent("editor-loading");break;case"video-editor-ready":r._emitSDKEvent("editor-ready"),r._hideLoader(),r.show();break;case"video-generating":r._emitSDKEvent("video-generating");break;case"video-generated":r._emitSDKEvent("video-generated",e.eventData)}},r._emitSDKEvent=function(e,t){r.dispatchEvent(new CustomEvent("rfsdk-".concat(e),{detail:t}))},r._sendMessageToEditor=function(e,t){void 0!==r.elements&&void 0!==r.elements.iframe&&r.elements.iframe.contentWindow.postMessage({source:"rfsdk",eventName:e,eventData:t},i)},r._prepareAndAppendForm=function(e){var t=Object.assign({},e),n=document.createElement("iframe");n.classList.add("rfsdk"),n.classList.add("rfsdk-iframe"),n.setAttribute("src","".concat(i,"/v/form?workspaceId=").concat(r.config.workspaceId,"&templateId=").concat(r.config.templateId,"&origin=").concat(window.location.origin)),n.style.width=t.width||"1200px",n.style.height=t.height||"700px",n.style.top=t.top||0,n.style.left=t.left||0,n.style.right=t.right||"auto",n.style.bottom=t.bottom||"auto",n.style.position="absolute",n.style.zIndex="111",n.style.boxShadow="1px 1px 6px 0 rgba(0,0,0,.1)",n.style.border="none",r.elements.iframe=n,"lightbox"===r.config["editor-type"]?(document.body.appendChild(r._createLightBox()),r._showLightBox()):(r.elements.buttonWrapperElement.appendChild(n),r.elements.baseParentElement.appendChild(r.elements.loaderGif))},window.rfsdk.q.length>0&&window.rfsdk.q.forEach(function(e){if(void 0!==r[e[0]]){var t=[].concat(o(e));r[e[0]].apply(null,t.slice(1))}}),r._createLightBox=function(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),o=document.createElement("img"),i=document.createElement("div");return e.classList.add("rfsdk-lightbox"),e.setAttribute("id","rfsdk-lightbox"),t.classList.add("rfsdk-lightbox-inner"),o.classList.add("rfsdk-lightbox-video-loader"),n.classList.add("rfsdk-lightbox__body"),i.classList.add("rfsdk-lightbox-background"),i.classList.add("rfsdk-lightbox-close"),o.src="https://rocketium.com/img/pando-newpopupicon/loader.gif",n.appendChild(o),t.appendChild(n),e.appendChild(t),e.appendChild(i),i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.width="100%",i.style.height="100%",i.style.background="rgba(0, 0, 0, 0.52)",i.style["z-index"]=1,e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.style.background="rgba(19, 24, 41, 0.72)",e.style["z-index"]=111,e.style.display="flex",e.style["justify-content"]="center",e.style["align-items"]="center",e.style.opacity=0,e.style.visibility="hidden",e.style.transition="opacity .3s ease, visibility .3s ease",t.style.width="90%",t.style.height="90%",t.style.background="#fff",t.style["z-index"]=11,t.style.position="relative",o.style.width="150px",o.style.margin="auto",o.style.position="absolute",o.style.left=0,o.style.right=0,o.style.bottom=0,o.style.top=0,n.style.height="calc( 100% - 84px )",i.addEventListener("click",function(e){r.destroy(),r.init(r.config)}),n.appendChild(r.elements.iframe),r.elements.iframe.style.width="100%",r.elements.iframe.style.height="100%",r.elements.lightBox={},r.elements.lightBox.lightBoxDiv=e,r.elements.lightBox.lightBoxInnerDiv=t,r.elements.lightBox.lightBoxBodyDiv=n,r.elements.lightBox.lightBoxImageLoader=o,r.elements.lightBox.lightBoxBackgroundDiv=i,e},r._showLightBox=function(){r.elements.lightBox.lightBoxDiv.classList.add("active"),r.elements.lightBox.lightBoxInnerDiv.classList.add("animate"),r.elements.lightBox.lightBoxDiv.style.opacity=1,r.elements.lightBox.lightBoxDiv.style.visibility="visible",document.body.style["overflow-y"]="hidden"},r._hideLightBox=function(){void 0!==r.elements&&void 0!==r.elements.lightBox&&(r.elements.lightBox.lightBoxDiv.classList.remove("active"),r.elements.lightBox.lightBoxInnerDiv.classList.remove("animate"),r.elements.lightBox.lightBoxDiv.style.opacity=0,r.elements.lightBox.lightBoxDiv.style.visibility="hidden"),document.body.style["overflow-y"]="initial"},r._destroyLightBox=function(){r._hideLightBox(),void 0!==r.elements&&void 0!==r.elements.lightBox&&(r.elements.lightBox.lightBoxBodyDiv.html="",r.elements.iframe.style.width="1200px",r.elements.iframe.style.height="700px")};var d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];void 0!==r[t[0]]&&r[t[0]].apply(null,t.slice(1))};t.default=d,e.exports=t.default}])});